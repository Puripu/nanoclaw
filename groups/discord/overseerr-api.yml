openapi: '3.0.2'
info:
  title: 'Overseerr API'
  version: '1.0.0'
  description: |
    This is the documentation for the Overseerr API backend.


    Two primary authentication methods are supported:


    - **Cookie Authentication**: A valid sign-in to the `/auth/plex` or `/auth/local` will generate a valid authentication cookie.
    - **API Key Authentication**: Sign-in is also possible by passing an `X-Api-Key` header along with a valid API Key generated by Overseerr.
tags:
  - name: public
    description: Public API endpoints requiring no authentication.
  - name: settings
    description: Endpoints related to Overseerr's settings and configuration.
  - name: auth
    description: Endpoints related to logging in or out, and the currently authenticated user.
  - name: users
    description: Endpoints related to user management.
  - name: search
    description: Endpoints related to search and discovery.
  - name: request
    description: Endpoints related to request management.
  - name: movies
    description: Endpoints related to retrieving movies and their details.
  - name: tv
    description: Endpoints related to retrieving TV series and their details.
  - name: other
    description: Endpoints related to other TMDB data
  - name: person
    description: Endpoints related to retrieving person details.
  - name: media
    description: Endpoints related to media management.
  - name: collection
    description: Endpoints related to retrieving collection details.
  - name: service
    description: Endpoints related to getting service (Radarr/Sonarr) details.
servers:
  - url: '{server}/api/v1'
    variables:
      server:
        default: http://localhost:5055


components:
  schemas:
    User:
      type: object
      properties:
        id:
          type: integer
          example: 1
          readOnly: true
        email:
          type: string
          example: 'hey@itsme.com'
          readOnly: true
        username:
          type: string
        plexToken:
          type: string
          readOnly: true
        plexUsername:
          type: string
          readOnly: true
        userType:
          type: integer
          example: 1
          readOnly: true
        permissions:
          type: number
          example: 0
        avatar:
          type: string
          readOnly: true
        createdAt:
          type: string
          example: '2020-09-02T05:02:23.000Z'
          readOnly: true
        updatedAt:
          type: string
          example: '2020-09-02T05:02:23.000Z'
          readOnly: true
        requestCount:
          type: number
          example: 5
          readOnly: true
      required:
        - id
        - email
        - createdAt
        - updatedAt
    UserSettings:
      type: object
      properties:
        locale:
          type: string
        region:
          type: string
        originalLanguage:
          type: string
    MainSettings:
      type: object
      properties:
        apiKey:
          type: string
          readOnly: true
        appLanguage:
          type: string
          example: en
        applicationTitle:
          type: string
          example: Overseerr
        applicationUrl:
          type: string
          example: https://os.example.com
        trustProxy:
          type: boolean
          example: true
        csrfProtection:
          type: boolean
          example: false
        hideAvailable:
          type: boolean
          example: false
        partialRequestsEnabled:
          type: boolean
          example: false
        localLogin:
          type: boolean
          example: true
        newPlexLogin:
          type: boolean
          example: true
        defaultPermissions:
          type: number
            type: number
            example: 1
      responses:
        '200':
          description: Keyword returned
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Keyword'
  /watchproviders/regions:
    get:
      summary: Get watch provider regions
      description: |
        Returns a list of all available watch provider regions.
      tags:
        - other
      responses:
        '200':
          description: Watch provider regions returned
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/WatchProviderRegion'
  /watchproviders/movies:
    get:
      summary: Get watch provider movies
      description: |
        Returns a list of all available watch providers for movies.
      tags:
        - other
      parameters:
        - in: query
          name: watchRegion
          required: true
          schema:
            type: string
            example: US
      responses:
        '200':
          description: Watch providers for movies returned
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/components/schemas/WatchProviderDetails'
  /watchproviders/tv:
    get:
      summary: Get watch provider series
      description: |
        Returns a list of all available watch providers for series.
      tags:
        - other
      parameters:
        - in: query
          name: watchRegion
          required: true
          schema:
            type: string
            example: US
      responses:
        '200':
          description: Watch providers for series returned
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/WatchProviderDetails'
security:
  - cookieAuth: []
  - apiKey: []